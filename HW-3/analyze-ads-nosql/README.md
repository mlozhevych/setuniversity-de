# –ê–Ω–∞–ª—ñ–∑ —Ä–µ–∫–ª–∞–º–Ω–∏—Ö –¥–∞–Ω–∏—Ö

–¶–µ–π –ø—Ä–æ—î–∫—Ç —î –∫–æ–Ω—Å–æ–ª—å–Ω–∏–º –∑–∞—Å—Ç–æ—Å—É–Ω–∫–æ–º –Ω–∞ Python –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ä–µ–∫–ª–∞–º–Ω–∏—Ö –¥–∞–Ω–∏—Ö. –í—ñ–Ω –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î MongoDB –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Ç–∞
–æ–±—Ä–æ–±–∫–∏ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –ø—Ä–æ —Å–µ—Å—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, –∫–ª—ñ–∫–∏ —Ç–∞ –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ —Ä–µ–∫–ª–∞–º–æ—é. –ü—Ä–æ—î–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Docker –¥–ª—è –ª–µ–≥–∫–æ–≥–æ
—Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –Ω–∞–ø–æ–≤–Ω–µ–Ω–Ω—è —ó—ó –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏.

---

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑ MongoDB –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker Compose.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –Ω–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –ø–æ—á–∞—Ç–∫–æ–≤–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∑ Google Drive –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É.
- –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –∫–æ–Ω—Å–æ–ª—å–Ω–µ –º–µ–Ω—é –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≥–æ—Ç–æ–≤–∏—Ö –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤:
    - [–ê–Ω–∞–ª—ñ–∑ "–≤—Ç–æ–º–∏ –≤—ñ–¥ —Ä–µ–∫–ª–∞–º–∏" (Ad Fatigue)](./src/analyze_ads_nosql/mongo_queries/README.md#4-ad_fatiguepy)
    - [–†–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ –≤–∑–∞—î–º–æ–¥—ñ–π –∑ —Ä–µ–∫–ª–∞–º–æ—é](./src/analyze_ads_nosql/mongo_queries/README.md#1-ad_interactionspy)
    - [–ê–Ω–∞–ª—ñ–∑ —Ä–æ–∑–ø–æ–¥—ñ–ª—É –∫–ª—ñ–∫—ñ–≤ –ø–æ –≥–æ–¥–∏–Ω–∞—Ö –¥–æ–±–∏](./src/analyze_ads_nosql/mongo_queries/README.md#3-clicks_per_hourpy)
    - [–û—Ç—Ä–∏–º–∞–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö —Å–µ—Å—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞](./src/analyze_ads_nosql/mongo_queries/README.md#2-last_sessionspy)
    - [–ü–æ–ø—É–ª—è—Ä–Ω—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–æ–≤–∞—Ä—ñ–≤](./src/analyze_ads_nosql/mongo_queries/README.md#5-top_categoriespy)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

- **–ú–æ–≤–∞**: Python 3.11

- **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**: MongoDB

- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è**: Docker & Docker Compose

- **–ú–µ–Ω–µ–¥–∂–µ—Ä –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π**: Poetry

- **–ö–ª—é—á–æ–≤—ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏**:
    - `pymongo` - –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ MongoDB.
    - `pandas` - –¥–ª—è –æ–±—Ä–æ–±–∫–∏ –¥–∞–Ω–∏—Ö –ø–µ—Ä–µ–¥ —ñ–º–ø–æ—Ä—Ç–æ–º.
    - `gdown` - –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤ –∑ Google Drive.
    - `python-dotenv` - –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ —Ñ–∞–π–ª–∞–º–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó.
    - `rich` - –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑—Ä—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É –≤ –∫–æ–Ω—Å–æ–ª—ñ.

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫

–í–∏–∫–æ–Ω–∞–π—Ç–µ —Ü—ñ –∫—Ä–æ–∫–∏, —â–æ–± —Ä–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –ø—Ä–æ—î–∫—Ç.

### **–ö—Ä–æ–∫ 1: –ü–µ—Ä–µ–¥—É–º–æ–≤–∏**

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –Ω–∞ –≤–∞—à—ñ–π –º–∞—à–∏–Ω—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:

- Docker
- Docker Compose
- Python 3.11
- Poetry

### **–ö—Ä–æ–∫ 2: –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è**

1. –°–∫–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π:

  ```bash
   git clone https://github.com/mlozhevych/setuniversity-de.git
   cd HW-3/analyze-ads-nosql
  ```

2. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` —É –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ—î–∫—Ç—É (`analyze-ads-nosql/`).

3. –°–∫–æ–ø—ñ—é–π—Ç–µ –≤ –Ω—å–æ–≥–æ –Ω–∞–≤–µ–¥–µ–Ω–∏–π –Ω–∏–∂—á–µ –≤–º—ñ—Å—Ç —Ç–∞ –∑–∞–º—ñ–Ω—ñ—Ç—å –∑–Ω–∞—á–µ–Ω–Ω—è `GDRIVE_..._ID` –Ω–∞ –≤–∞—à—ñ —Ä–µ–∞–ª—å–Ω—ñ ID —Ñ–∞–π–ª—ñ–≤ –∑ Google
   Drive.

   **–§–∞–π–ª `.env`:**
    ```
    # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
    MONGO_HOST=localhost
    MONGO_PORT=27017

    # –û–±–ª—ñ–∫–æ–≤—ñ –¥–∞–Ω—ñ —Ç–∞ –Ω–∞–∑–≤–∞ –ë–î
    MONGO_DB=AdTech
    MONGO_USER=adtechuser
    MONGO_PASSWORD=adtechpass

    # ID —Ñ–∞–π–ª—ñ–≤ –¥–ª—è —ñ–º–ø–æ—Ä—Ç—É
    GDRIVE_USERS_FILE_ID=YOUR_GDRIVE_USERS_FILE_ID
    GDRIVE_EVENTS_FILE_ID=YOUR_GDRIVE_EVENTS_FILE_ID

    # –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É
    SESSION_TIMEOUT_MINUTES=30
    CSV_SEPARATOR=,
    ```

### **–ö—Ä–æ–∫ 3: –ó–∞–ø—É—Å–∫ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ —Ç–∞ —ñ–º–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö**

–¶—è –∫–æ–º–∞–Ω–¥–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–≥–æ—Ä–Ω–µ –±–∞–∑—É –¥–∞–Ω–∏—Ö MongoDB —ñ –Ω–∞–ø–æ–≤–Ω–∏—Ç—å —ó—ó –¥–∞–Ω–∏–º–∏.

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ç–µ—Ä–º—ñ–Ω–∞–ª —É –∫–æ—Ä–µ–Ω–µ–≤—ñ–π –ø–∞–ø—Ü—ñ –ø—Ä–æ—î–∫—Ç—É.
2. –í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:

  ```bash
  docker-compose up --build
  ```

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ü—ñ—î—ó –∫–æ–º–∞–Ω–¥–∏ —É –≤–∞—à–æ–º—É —Ç–µ—Ä–º—ñ–Ω–∞–ª—ñ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑ MongoDB, –∞ –ø–æ—Ç—ñ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è —ñ
–∑–∞–≤–µ—Ä—à–∏—Ç—å—Å—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `mongo-seed`, —è–∫–∏–π –∑–∞–ø–æ–≤–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö (–≤–∏–∫–æ–Ω–∞—é—Ç—å—Å—è 2 —Å–∫—Ä–∏–ø—Ç–∏: `import_sessions.py`,
`import_users.py`). –ü—ñ—Å–ª—è —Ü—å–æ–≥–æ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö –±—É–¥–µ –≥–æ—Ç–æ–≤–∞ –¥–æ —Ä–æ–±–æ—Ç–∏. –¶–µ –º–æ–∂–µ
–∑–∞–π–Ω—è—Ç–∏ –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —á–∞—Å—É. **_–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —É —Ç–æ–º—É —â–æ —É –≤–∞—Å –¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Ä–µ—Å—É—Ä—Å—ñ–≤._**

### **–ö—Ä–æ–∫ 4: –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É**

–ö–æ–ª–∏ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —É Docker –ø—Ä–∞—Ü—é—î, –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –æ—Å–Ω–æ–≤–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É.

1. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –ø—Ä–æ—î–∫—Ç—É –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Poetry (—è–∫—â–æ –≤–∏ —â–µ –Ω–µ –∑—Ä–æ–±–∏–ª–∏ —Ü—å–æ–≥–æ):
    ```bash
    poetry install
    ```
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≥–æ–ª–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç:
    ```bash
    poetry run main
    ```
3. –ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é, –¥–µ –∑–º–æ–∂–µ—Ç–µ –æ–±–∏—Ä–∞—Ç–∏ —Ç–∞ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –∑–∞–ø–∏—Ç–∏:
![img.png](docs/img.png)










