# –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É —Ä–µ–∫–ª–∞–º–Ω–∏—Ö –¥–∞–Ω–∏—Ö (AdTech)

–¶–µ–π –ø—Ä–æ—î–∫—Ç —î –∫–æ–º–ø–ª–µ–∫—Å–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –∞–Ω–∞–ª—ñ–∑—É –¥–∞–Ω–∏—Ö —É —Å—Ñ–µ—Ä—ñ —Ä–µ–∫–ª–∞–º–Ω–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π. –í—ñ–Ω –¥–æ–∑–≤–æ–ª—è—î —Ä–æ–∑–≥–æ—Ä—Ç–∞—Ç–∏ –±–∞–∑—É –¥–∞–Ω–∏—Ö
–∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker, –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –≤ –Ω–µ—ó –¥–∞–Ω—ñ —Ç–∞ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –∑–≤—ñ—Ç—ñ–≤ –ø—Ä–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
—Ä–µ–∫–ª–∞–º–Ω–∏—Ö –∫–∞–º–ø–∞–Ω—ñ–π.

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

* **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–æ–≤–∞–Ω–µ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è:** –ü—Ä–æ—î–∫—Ç –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Docker —Ç–∞ Docker Compose –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –∑–∞–ø—É—Å–∫—É
  —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö MySQL.
* **–Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:** –°–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î —Ä–µ–∑–µ—Ä–≤–Ω—É –∫–æ–ø—ñ—é –±–∞–∑–∏ –¥–∞–Ω–∏—Ö –∑ Google Drive —Ç–∞
  –≤—ñ–¥–Ω–æ–≤–ª—é—î —ó—ó.
* **–ê–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç:** –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∏–π CLI (—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞) –Ω–∞ Python –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ä—ñ–∑–Ω–æ–º–∞–Ω—ñ—Ç–Ω–∏—Ö
  –∑–≤—ñ—Ç—ñ–≤.
* **–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –∑–≤—ñ—Ç—ñ–≤:** –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –¥–µ—Ç–∞–ª—å–Ω–∏—Ö –∑–≤—ñ—Ç—ñ–≤ —É —Ñ–æ—Ä–º–∞—Ç–∞—Ö CSV —Ç–∞ JSON –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É.
* **–ì–Ω—É—á–∫–µ –∫–µ—Ä—É–≤–∞–Ω–Ω—è:** –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ —è–∫ –æ–∫—Ä–µ–º—ñ –∑–≤—ñ—Ç–∏, —Ç–∞–∫ —ñ –≤—Å—ñ –æ–¥—Ä–∞–∑—É.
* **–†–µ–∑–µ—Ä–≤–Ω–µ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:** –°–∫—Ä–∏–ø—Ç –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ä–µ–∑–µ—Ä–≤–Ω–∏—Ö –∫–æ–ø—ñ–π –±–∞–∑–∏ –¥–∞–Ω–∏—Ö, –∑–∞ –≤–∏–Ω—è—Ç–∫–æ–º "—Å–∏—Ä–∏—Ö" —Ç–∞–±–ª–∏—Ü—å.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

* **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü—ñ—è:** Docker, Docker Compose
* **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö:** MySQL
* **–ú–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è:** Python 3.10+
* **–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ Python:**
    * `pandas` - –¥–ª—è –æ–±—Ä–æ–±–∫–∏ —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É –¥–∞–Ω–∏—Ö
    * `mysql-connector-python` - –¥–ª—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ MySQL
    * `python-dotenv` - –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏–º–∏ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
    * `scipy` - –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–Ω–∏—Ö —Ä–æ–∑—Ä–∞—Ö—É–Ω–∫—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ—Ä–µ–ª—è—Ü—ñ—ó)
    * `poetry` - –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏ —Ç–∞ –ø—Ä–æ—î–∫—Ç–æ–º

## üìä –î–æ—Å—Ç—É–ø–Ω—ñ –∑–≤—ñ—Ç–∏

–ê–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ–∑–≤–æ–ª—è—î –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–≤—ñ—Ç–∏:

1. **Top-5 –∫–∞–º–ø–∞–Ω—ñ–π –∑–∞ CTR:** –í–∏–∑–Ω–∞—á–∞—î 5 –Ω–∞–π–∫—Ä–∞—â–∏—Ö –∫–∞–º–ø–∞–Ω—ñ–π –∑ –Ω–∞–π–≤–∏—â–∏–º –ø–æ–∫–∞–∑–Ω–∏–∫–æ–º –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ (CTR).
2. **–ù–∞–π–±—ñ–ª—å—à—ñ –≤–∏—Ç—Ä–∞—Ç–∏ —Ä–µ–∫–ª–∞–º–æ–¥–∞–≤—Ü—ñ–≤:** –ü–æ–∫–∞–∑—É—î, —è–∫—ñ —Ä–µ–∫–ª–∞–º–æ–¥–∞–≤—Ü—ñ –≤–∏—Ç—Ä–∞—Ç–∏–ª–∏ –Ω–∞–π–±—ñ–ª—å—à–µ –≥—Ä–æ—à–µ–π –Ω–∞ —Ä–µ–∫–ª–∞–º–Ω—ñ –∫–∞–º–ø–∞–Ω—ñ—ó.
3. **–ó–≤–µ–¥–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–º–ø–∞–Ω—ñ—è—Ö (CPC, CPM):** –†–æ–∑—Ä–∞—Ö–æ–≤—É—î —Å–µ—Ä–µ–¥–Ω—é –≤–∞—Ä—Ç—ñ—Å—Ç—å –∑–∞ –∫–ª—ñ–∫ (CPC) —Ç–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å –∑–∞ —Ç–∏—Å—è—á—É
   –ø–æ–∫–∞–∑—ñ–≤ (CPM) –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–∞–º–ø–∞–Ω—ñ—ó.
4. **–ù–∞–π–ø—Ä–∏–±—É—Ç–∫–æ–≤—ñ—à—ñ –ª–æ–∫–∞—Ü—ñ—ó:** –ó–Ω–∞—Ö–æ–¥–∏—Ç—å –Ω–∞–π–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à—ñ –ª–æ–∫–∞—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –∑–∞–≥–∞–ª—å–Ω–æ–≥–æ –¥–æ—Ö–æ–¥—É –≤—ñ–¥ –∫–ª—ñ–∫—ñ–≤.
5. **Top-10 –Ω–∞–π–∞–∫—Ç–∏–≤–Ω—ñ—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤:** –í–∏–≤–æ–¥–∏—Ç—å 10 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤, —è–∫—ñ –Ω–∞–π—á–∞—Å—Ç—ñ—à–µ –∫–ª—ñ–∫–∞–ª–∏ –Ω–∞ —Ä–µ–∫–ª–∞–º—É.
6. **–ö–∞–º–ø–∞–Ω—ñ—ó, —â–æ –≤–∏—á–µ—Ä–ø—É—é—Ç—å –±—é–¥–∂–µ—Ç:** –í–∏–∑–Ω–∞—á–∞—î –∫–∞–º–ø–∞–Ω—ñ—ó, —è–∫—ñ –≤–∏—Ç—Ä–∞—Ç–∏–ª–∏ –ø–æ–Ω–∞–¥ 80% —Å–≤–æ–≥–æ –±—é–¥–∂–µ—Ç—É.
7. **–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–∞ —Ç–∏–ø–æ–º –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤:** –ü–æ—Ä—ñ–≤–Ω—é—î CTR –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø–∞—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤ (–º–æ–±—ñ–ª—å–Ω–∏–π, –¥–µ—Å–∫—Ç–æ–ø, –ø–ª–∞–Ω—à–µ—Ç).

## üìã –ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

* –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π **Docker** —Ç–∞ **Docker Compose**.
* –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–π **Python 3.10+** —Ç–∞ –º–µ–Ω–µ–¥–∂–µ—Ä –ø–∞–∫–µ—Ç—ñ–≤ **Poetry**.

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

   ```bash
   git clone https://github.com/mlozhevych/setuniversity-de.git
   cd HW-2
   ```

### 2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–î–ª—è —Ä–æ–±–æ—Ç–∏ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–æ–≥–æ —Å–∫—Ä–∏–ø—Ç—É –ø–æ—Ç—Ä—ñ–±–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç–∏ —Ñ–∞–π–ª `.env` —É –∫–∞—Ç–∞–ª–æ–∑—ñ `analyze-ads/`.

**–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª**

  ```bash
  touch analyze-ads/.env
  ```

–î–æ–¥–∞–π—Ç–µ –≤ –Ω—å–æ–≥–æ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ –¥–∞–Ω—ñ –∑ `docker-compose.yml`:

  ```
  DB_HOST=127.0.0.1
  DB_PORT=3306
  DB_USER=adtech
  DB_PASSWORD=adtechpass
  DB_NAME=AdTech
  ```

**–ó–∞–ø—É—Å–∫ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö**

–ó–∞–ø—É—Å—Ç—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö MySQL –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Docker Compose:

  ```bash
  docker-compose up -d --build
  ```

–¶—è –∫–æ–º–∞–Ω–¥–∞ —Å—Ç–≤–æ—Ä–∏—Ç—å —Ç–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑ —ñ–º–µ–Ω–µ–º `adtech-mysql1` —É —Ñ–æ–Ω–æ–≤–æ–º—É —Ä–µ–∂–∏–º—ñ.

–°–∫—Ä–∏–ø—Ç `init/init-db.sh` –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å –±–µ–∫–∞–ø —Ç–∞ —Ä–æ–∑–≥–æ—Ä–Ω–µ –π–æ–≥–æ.

    –ü—Ä–∏–º—ñ—Ç–∫–∞: 
    –î–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—É –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —É –≤–∞—Å —î –¥–æ—Å—Ç—É–ø –¥–æ –Ü–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—É –∑ Google Drive.

**–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π Python**

–ü–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É `analyze-ads` —Ç–∞ –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Poetry:

```bash
cd analyze-ads
poetry install
```

## ‚ñ∂Ô∏è –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

–ü—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫—Ä–æ–∫—ñ–≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤–∏ –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç–∏ –∞–Ω–∞–ª—ñ—Ç–∏—á–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.
1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å, —â–æ –≤–∏ –ø–µ—Ä–µ–±—É–≤–∞—î—Ç–µ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ `analyze-ads`.
2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –≥–æ–ª–æ–≤–Ω–∏–π —Å–∫—Ä–∏–ø—Ç —á–µ—Ä–µ–∑ Poetry:

```bash
poetry run analyze-ads
```

3. –í–∏ –ø–æ–±–∞—á–∏—Ç–µ —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –º–µ–Ω—é, –¥–µ –º–æ–∂–Ω–∞ –æ–±—Ä–∞—Ç–∏ –ø–æ—Ç—Ä—ñ–±–Ω–∏–π –∑–≤—ñ—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó, –≤–≤—ñ–≤—à–∏ –π–æ–≥–æ –Ω–æ–º–µ—Ä.

![img.png](docs/img.png)

4. –í–∏ —Ç–∞–∫–æ–∂ –º–æ–∂–µ—Ç–µ –≤–≤–µ—Å—Ç–∏ `all`, —â–æ–± –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –≤—Å—ñ –∑–≤—ñ—Ç–∏ –æ–¥—Ä–∞–∑—É.
–ó–≥–µ–Ω–µ—Ä–æ–≤–∞–Ω—ñ –∑–≤—ñ—Ç–∏ –±—É–¥—É—Ç—å –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≤ –∫–∞—Ç–∞–ª–æ–∑—ñ `analyze-ads/reports/` —É —Ñ–æ—Ä–º–∞—Ç–∞—Ö `.csv` —Ç–∞ `.json`.
5. –£—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏, –∫–æ—Ç—Ä—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–ª–∏—Å—å –¥–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –∑–Ω–∞—Ö–æ–¥—è—Ç—å—Å—è —É –∫–∞—Ç–∞–ª–æ–≥—É `analyze-ads/src/analyze_ads/queries/`.

### –ü—Ä–∏–∫–ª–∞–¥–∏ –∑–∞–ø—É—Å–∫—É —Å–∫—Ä–∏–ø—Ç—ñ–≤

- –ù–∞–π–ø—Ä–∏–±—É—Ç–∫–æ–≤—ñ—à—ñ –ª–æ–∫–∞—Ü—ñ—ó:
![location_summary.png](docs/location_summary.png)

- –ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –∑–∞ —Ç–∏–ø–æ–º –ø—Ä–∏—Å—Ç—Ä–æ—é:
![user_activity_summary.png](docs/user_activity_summary.png)